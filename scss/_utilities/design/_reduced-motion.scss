/// @link https://css-tricks.com/revisiting-prefers-reduced-motion/
/// This code will work when a person has requested a reduced motion experience,
/// or the device has a screen with a slow refresh rate (update: slow),
/// say e-ink or a cheap smartphone.
@mixin reduced-motion {
   @media screen and (prefers-reduced-motion: reduce), (update: slow) {
      * {
         animation-duration: 0.001ms !important;
         transition-duration: 0.001ms !important;

         // https://css-tricks.com/revisiting-prefers-reduced-motion-the-reduced-motion-media-query/#comment-1700170
         animation-iteration-count: 1 !important;
      }
   }
}

// Update the duration when animation is critical to
// understanding and the device can support it
@mixin reduced-motion-enable-animation(
   $animation,
   $duration,
   $iteration-count
) {
   @media screen and (prefers-reduced-motion: reduce), (update: fast) {
      @content;

      animation-name: $animation;
      animation-duration: $duration !important;
      animation-iteration-count: $iteration-count !important;
   }
}

// Update the duration when transition is critical to
// understanding and the device can support it
@mixin reduced-motion-enable-transition($duration) {
   @media screen and (prefers-reduced-motion: reduce), (update: fast) {
      @content;

      transition-duration: $duration !important;
   }
}
